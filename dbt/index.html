Here's the complete cross-browser and cross-device compatible HTML code:
<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>‡§∏‡§Ç‡§ö‡§æ‡§≤‡§®‡§æ‡§≤‡§Ø ‡§ï‡•É‡§∑‡§ø ‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" crossorigin="anonymous"></script>
    <style>
        :root {
            --govt-green: #1B5E20;
            --dark-green: #1a4a1d;
            --accent-green: #4CAF50;
            --dbt-blue: #0D47A1;
            --text-dark: #1A1A1A;
            --text-medium: #4A4A4A;
            --text-light: #fff;
            --background-light: #FAFAFA;
            --shadow-sm: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            --shadow-md: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 1rem 3rem rgba(0, 0, 0, 0.175);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Poppins', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--text-dark);
            min-height: 100vh;
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            line-height: 1.6;
        }

        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 20%, rgba(255, 182, 193, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 218, 185, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 192, 203, 0.1) 0%, transparent 50%);
            background-size: 25rem 25rem, 37.5rem 37.5rem, 18.75rem 18.75rem;
            background-position: 0 0, 6.25rem 6.25rem, 12.5rem 12.5rem;
            animation: floatingFlowers 20s ease-in-out infinite;
            z-index: -1;
            pointer-events: none;
            opacity: 0.4;
        }

        @keyframes floatingFlowers {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.4; }
            50% { transform: translateY(-0.9375rem) rotate(180deg); opacity: 0.6; }
        }

        .hindi {
            font-family: 'Poppins', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 500;
        }

        /* Top Bar */
        .top-bar {
            background-color: var(--dark-green);
            color: var(--text-light);
            padding: 0.375rem 0;
            font-size: 0.75rem;
            position: relative;
            z-index: 1000;
        }

        .top-bar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .contact-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .accessibility-options {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .top-bar a {
            color: var(--text-light);
            text-decoration: none;
        }

        .top-bar a:hover {
            color: #E8F5E8;
        }

        /* Main Header */
        .main-header {
            background-color: var(--govt-green);
            color: var(--text-light);
            padding: 1.25rem 0;
            border-bottom: 0.25rem solid var(--accent-green);
            position: relative;
            z-index: 999;
        }

        .govt-branding {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .ashoka-chakra {
            height: 3.75rem;
            width: auto;
            flex-shrink: 0;
        }

        .title-block h1 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
            line-height: 1.2;
        }

        .title-block p {
            font-size: 0.8rem;
            margin-bottom: 0;
            opacity: 0.95;
            line-height: 1.3;
        }

        .auth-buttons {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .btn-auth {
            padding: 0.625rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            border: none;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            min-width: 7rem;
        }

        .btn-signin {
            background-color: var(--text-light);
            color: var(--govt-green);
        }

        .btn-signin:hover {
            background-color: #f8f9fa;
            color: var(--dark-green);
        }

        .btn-register {
            background-color: var(--accent-green);
            color: var(--text-light);
        }

        .btn-register:hover {
            background-color: #45a049;
        }

        /* Navigation */
        .navbar-main {
            background-color: var(--govt-green);
            box-shadow: var(--shadow-md);
            position: relative;
            z-index: 998;
        }

        .navbar-main .nav {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            gap: 0.5rem;
            padding: 0.5rem 0;
            margin: 0;
            list-style: none;
        }

        .navbar-main .nav-link {
            color: var(--text-light) !important;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.375rem;
            white-space: nowrap;
            font-size: 0.875rem;
            text-decoration: none;
            min-height: 2.5rem;
        }

        .navbar-main .nav-link:hover {
            transform: translateY(-0.125rem);
            box-shadow: var(--shadow-sm);
            background-color: rgba(255, 255, 255, 0.1);
        }

        .navbar-main .nav-item:nth-child(1) .nav-link { background: var(--govt-green); }
        .navbar-main .nav-item:nth-child(2) .nav-link { background: var(--dbt-blue); }
        .navbar-main .nav-item:nth-child(3) .nav-link { background: #FF9800; }
        .navbar-main .nav-item:nth-child(4) .nav-link { background: #E91E63; }
        .navbar-main .nav-item:nth-child(5) .nav-link { background: #FBC02D; }
        .navbar-main .nav-item:nth-child(6) .nav-link { background: #6A1B9A; }
        .navbar-main .nav-item:nth-child(7) .nav-link,
        .navbar-main .nav-item:nth-child(8) .nav-link { background: #424242; }

        .dropdown-menu {
            background-color: rgba(255, 255, 255, 0.98);
            box-shadow: var(--shadow-lg);
            border: none;
            border-radius: 0.5rem;
        }

        .dropdown-item {
            color: var(--text-dark);
            font-size: 0.875rem;
            padding: 0.5rem 1rem;
        }

        .dropdown-item:hover {
            background-color: #f8f9fa;
            color: var(--govt-green);
        }

        /* Feature Cards Section */
        .feature-cards-section {
            background: rgba(27, 94, 32, 0.85);
            padding: 2.5rem 0;
            min-height: 50vh;
            position: relative;
            z-index: 5;
            backdrop-filter: blur(0.5rem);
        }

        .feature-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(18rem, 1fr));
            gap: 1rem;
            padding: 0.5rem 0;
        }

        .feature-card {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 0.75rem;
            padding: 1.25rem;
            text-align: center;
            box-shadow: var(--shadow-md);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 16rem;
            backdrop-filter: blur(0.25rem);
        }

        .feature-card:hover {
            transform: translateY(-0.3125rem);
            box-shadow: var(--shadow-lg);
            background-color: rgba(255, 255, 255, 1);
        }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 0.75rem;
        }

        .card-dbt-entry .card-icon { color: var(--accent-green); }
        .card-approvals .card-icon { color: #FF9800; }
        .card-scheme-info .card-icon { color: var(--dbt-blue); }
        .card-reports .card-icon { color: #E91E63; }
        .card-user-mgmt .card-icon { color: #9C27B0; }
        .card-help .card-icon { color: #93C572; }

        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .card-description {
            font-size: 0.875rem;
            color: var(--text-medium);
            line-height: 1.4;
            margin-bottom: 1rem;
            flex-grow: 1;
        }

        .card-action-btn {
            background-color: var(--dbt-blue);
            color: var(--text-light);
            padding: 0.625rem 1.5rem;
            border-radius: 0.375rem;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            width: 80%;
            text-align: center;
            border: none;
            cursor: pointer;
        }

        .card-action-btn:hover {
            background-color: #1565C0;
            color: var(--text-light);
            transform: translateY(-0.0625rem);
        }

        /* Login Modal */
        .login-modal .modal-content {
            background: linear-gradient(135deg, var(--govt-green) 0%, var(--dark-green) 100%);
            color: white;
            border: none;
            border-radius: 0.75rem;
        }

        .login-modal .modal-header {
            border-bottom: none;
            background: transparent;
            padding: 1.5rem 1.5rem 0;
        }

        .login-modal .modal-body {
            padding: 1.5rem;
        }

        .login-modal .form-control {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            font-size: 1rem;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .login-modal .form-control:focus {
            background: white;
            box-shadow: 0 0 0 0.125rem rgba(76, 175, 80, 0.3);
            outline: none;
        }

        .login-modal .form-label {
            color: white;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .login-modal .btn-login {
            background: linear-gradient(135deg, var(--accent-green) 0%, var(--govt-green) 100%);
            border: none;
            font-weight: 600;
            padding: 0.75rem 1.25rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            width: 100%;
        }

        .login-modal .btn-login:hover {
            transform: translateY(-0.125rem);
            box-shadow: var(--shadow-md);
        }

        .login-modal .btn-login:disabled {
            opacity: 0.7;
            transform: none;
        }

        /* Footer */
        .portal-footer {
            background-color: var(--dark-green);
            padding: 1.5rem 0;
            font-size: 0.8rem;
            position: relative;
            z-index: 10;
        }

        .footer-section {
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            min-height: 10rem;
            display: flex;
            flex-direction: column;
        }

        .footer-contact { background-color: #2E7D32; color: var(--text-light); }
        .footer-links { background-color: #1976D2; color: var(--text-light); }
        .footer-legal { background-color: #7B1FA2; color: var(--text-light); }
        .footer-social { background-color: #D32F2F; color: var(--text-light); }

        .footer-section h6 {
            font-weight: 600;
            margin-bottom: 0.75rem;
            font-size: 1rem;
        }

        .footer-section a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            display: block;
            margin-bottom: 0.375rem;
            font-size: 0.8rem;
        }

        .footer-section a:hover {
            color: var(--text-light);
        }

        .social-icons {
            margin-bottom: 0.75rem;
        }

        .social-icons a {
            color: rgba(255, 255, 255, 0.8);
            margin-right: 0.75rem;
            font-size: 1rem;
            display: inline-block;
        }

        .social-icons a:hover {
            color: var(--text-light);
        }

        /* Officer Cards */
        .officer-card {
            background: linear-gradient(135deg, var(--govt-green) 0%, var(--accent-green) 100%);
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
            transition: transform 0.2s ease;
        }

        .officer-card:hover {
            transform: translateY(-0.1875rem);
        }

        .officer-name {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .officer-mobile {
            font-size: 0.875rem;
            color: #E8F5E8;
        }

        .officer-mobile a {
            color: #E8F5E8;
            text-decoration: none;
        }

        .officer-mobile a:hover {
            color: white;
        }

        /* Loading Spinner */
        .loading-spinner {
            display: inline-block;
            width: 1.125rem;
            height: 1.125rem;
            border: 0.125rem solid #f3f3f3;
            border-top: 0.125rem solid var(--accent-green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Accessibility */
        .text-small { font-size: 90%; }
        .text-large { font-size: 110%; }

        /* Responsive Design */
        @media (max-width: 991.98px) {
            .main-header .container {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .govt-branding {
                justify-content: center;
            }

            .title-block h1 {
                font-size: 1.25rem;
            }

            .title-block p {
                font-size: 0.75rem;
            }

            .navbar-main .nav {
                flex-direction: column;
                align-items: center;
            }

            .navbar-main .nav-link {
                width: 90%;
                justify-content: center;
            }

            .feature-cards-container {
                grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr));
                gap: 0.75rem;
            }

            .feature-card {
                min-height: 14rem;
                padding: 1rem;
            }

            .card-icon {
                font-size: 2rem;
            }

            .card-title {
                font-size: 1rem;
            }
        }

        @media (max-width: 767.98px) {
            .top-bar {
                font-size: 0.7rem;
            }

            .top-bar .container {
                flex-direction: column;
                text-align: center;
                gap: 0.25rem;
            }

            .contact-info,
            .accessibility-options {
                gap: 0.5rem;
                flex-wrap: wrap;
                justify-content: center;
            }

            .main-header {
                padding: 1rem 0;
            }

            .ashoka-chakra {
                height: 3rem;
            }

            .title-block h1 {
                font-size: 1.125rem;
            }

            .title-block p {
                font-size: 0.7rem;
            }

            .btn-auth {
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
                min-width: 6rem;
            }

            .feature-cards-container {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }

            .feature-card {
                min-height: 12rem;
                padding: 1rem;
            }

            .card-icon {
                font-size: 2rem;
            }

            .card-title {
                font-size: 1rem;
            }

            .card-description {
                font-size: 0.8rem;
            }

            .login-modal .modal-dialog {
                margin: 0.5rem;
            }

            .login-modal .modal-body {
                padding: 1rem;
            }
        }

        @media (max-width: 575.98px) {
            .feature-cards-section {
                padding: 1.5rem 0;
            }

            .footer-section {
                min-height: 8rem;
                padding: 0.75rem;
            }

            .footer-section h6 {
                font-size: 0.9rem;
            }

            .footer-section a {
                font-size: 0.75rem;
            }
        }

        /* Print Styles */
        @media print {
            .top-bar,
            .auth-buttons,
            .navbar-main,
            .feature-cards-section,
            .portal-footer {
                display: none !important;
            }

            body {
                background: white !important;
                color: black !important;
            }

            .main-header {
                background: white !important;
                color: black !important;
                border-bottom: 0.125rem solid black;
            }
        }

        /* High Contrast Mode */
        @media (prefers-contrast: high) {
            :root {
                --govt-green: #0d4f14;
                --dark-green: #0a3d10;
                --accent-green: #2e7d32;
                --text-dark: #000000;
                --text-medium: #333333;
            }
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }

            body::before {
                animation: none;
            }
        }
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="container">
            <div class="contact-info">
                <span><i class="fab fa-whatsapp me-1"></i>DBT ‡§π‡•á‡§≤‡•ç‡§™‡§≤‡§æ‡§á‡§®: <a href="tel:+917065514447">7065514447</a></span>
                <span><i class="fas fa-headset me-1"></i>‡§ï‡•É‡§∑‡§ø ‡§π‡•á‡§≤‡•ç‡§™‡§≤‡§æ‡§á‡§®: <a href="tel:+9114447">14447</a></span>
            </div>
            <div class="accessibility-options">
                <span>‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§∏‡§æ‡§á‡§ú‡§º: 
                    <button class="btn btn-sm btn-outline-light py-0 px-1 me-1" onclick="changeTextSize(-1)" aria-label="‡§õ‡•ã‡§ü‡§æ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü">-A</button>
                    <button class="btn btn-sm btn-outline-light py-0 px-1 me-1" onclick="changeTextSize(0)" aria-label="‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü">A</button>
                    <button class="btn btn-sm btn-outline-light py-0 px-1" onclick="changeTextSize(1)" aria-label="‡§¨‡§°‡§º‡§æ ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü">+A</button>
                </span>
                <span><i class="fas fa-globe me-1"></i>
                    <select class="form-select form-select-sm d-inline-block w-auto bg-transparent text-light border-0" onchange="changeLanguage(this.value)" aria-label="‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç">
                        <option value="en" class="bg-dark">English</option>
                        <option value="hi" class="bg-dark" selected>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                    </select>
                </span>
            </div>
        </div>
    </div>

    <header class="main-header">
        <div class="container d-flex justify-content-between align-items-center">
            <div class="govt-branding">
                <img src="https://upload.wikimedia.org/wikipedia/commons/8/87/Coat_of_arms_of_Chhattisgarh.svg" alt="‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º ‡§∏‡§∞‡§ï‡§æ‡§∞" class="ashoka-chakra">
                <div class="title-block">
                    <h1 class="hindi">‡§∏‡§Ç‡§ö‡§æ‡§≤‡§®‡§æ‡§≤‡§Ø ‡§ï‡•É‡§∑‡§ø ‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º</h1>
                    <p class="hindi">‡§ï‡•É‡§∑‡§ø ‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§è‡§µ‡§Ç ‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡§≤‡•ç‡§Ø‡§æ‡§£ ‡§§‡§•‡§æ ‡§ú‡•à‡§µ ‡§™‡•ç‡§∞‡•å‡§¶‡•ç‡§Ø‡•ã‡§ó‡§ø‡§ï‡•Ä ‡§µ‡§ø‡§≠‡§æ‡§ó ‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º ‡§∂‡§æ‡§∏‡§®</p>
                </div>
            </div>
            <div class="auth-buttons">
                <button class="btn-auth btn-signin hindi" data-bs-toggle="modal" data-bs-target="#loginModal" aria-label="‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç">‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</button>
                <button class="btn-auth btn-register hindi" onclick="goToRegister()" aria-label="‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§ï‡§∞‡•á‡§Ç">‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§ï‡§∞‡•á‡§Ç</button>
            </div>
        </div>
    </header>

    <nav class="navbar-main" role="navigation" aria-label="‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§®‡•á‡§µ‡•Ä‡§ó‡•á‡§∂‡§®">
        <div class="container">
            <ul class="nav">
                <li class="nav-item"><a class="nav-link" href="#" aria-label="‡§π‡•ã‡§Æ ‡§™‡•á‡§ú"><i class="fas fa-home" aria-hidden="true"></i> ‡§π‡•ã‡§Æ</a></li>
                <li class="nav-item"><a class="nav-link" href="#" onclick="openPortalLogin('dbt')" aria-label="DBT ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä"><i class="fas fa-file-invoice" aria-hidden="true"></i> DBT ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownSchemes" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="‡§∏‡•ç‡§ï‡•Ä‡§Æ ‡§Æ‡•á‡§®‡•ç‡§Ø‡•Ç">
                        <i class="fas fa-list-alt" aria-hidden="true"></i> ‡§∏‡•ç‡§ï‡•Ä‡§Æ
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownSchemes">
                        <li><a class="dropdown-item hindi" href="#" onclick="showSchemeManagement()">‡§∏‡•ç‡§ï‡•Ä‡§Æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®</a></li>
                        <li><a class="dropdown-item hindi" href="#" onclick="showAddSchemeModal()">‡§®‡§à ‡§∏‡•ç‡§ï‡•Ä‡§Æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownReports" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü‡•ç‡§∏ ‡§Æ‡•á‡§®‡•ç‡§Ø‡•Ç">
                        <i class="fas fa-chart-bar" aria-hidden="true"></i> ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü‡•ç‡§∏
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownReports">
                        <li><a class="dropdown-item hindi" href="#" onclick="showDataReports()">‡§°‡•á‡§ü‡§æ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü‡•ç‡§∏</a></li>
                        <li><a class="dropdown-item hindi" href="#">‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü‡•ç‡§∏</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="#" onclick="showPendingApprovals()" aria-label="‡§Ö‡§®‡•Å‡§Æ‡•ã‡§¶‡§®"><i class="fas fa-clock" aria-hidden="true"></i> ‡§Ö‡§®‡•Å‡§Æ‡•ã‡§¶‡§®</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownAdmin" role="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="‡§è‡§°‡§Æ‡§ø‡§® ‡§Æ‡•á‡§®‡•ç‡§Ø‡•Ç">
                        <i class="fas fa-user-shield" aria-hidden="true"></i> ‡§è‡§°‡§Æ‡§ø‡§®
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownAdmin">
                        <li><a class="dropdown-item hindi" href="#" onclick="showDashboard()">‡§è‡§°‡§Æ‡§ø‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°</a></li>
                        <li><a class="dropdown-item hindi" href="#" onclick="showUserManagement()">‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®</a></li>
                        <li><a class="dropdown-item hindi" href="#" onclick="showSystemSettings()">‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏</a></li>
                        <li><a class="dropdown-item hindi" href="#" onclick="showAuditLogs()">‡§ë‡§°‡§ø‡§ü ‡§≤‡•â‡§ó‡•ç‡§∏</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="#" aria-label="‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç"><i class="fas fa-info-circle" aria-hidden="true"></i> ‡§π‡§Æ‡§æ‡§∞‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç</a></li>
                <li class="nav-item"><a class="nav-link" href="#" aria-label="‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç"><i class="fas fa-phone-alt" aria-hidden="true"></i> ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç</a></li>
            </ul>
        </div>
    </nav>

    <main>
<section class="feature-cards-section" aria-label="‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç">
    <div class="container">
        <div class="feature-cards-container">
            <div class="feature-card card-dbt-entry">
                <i class="card-icon fas fa-file-invoice" aria-hidden="true"></i>
                <h4 class="card-title hindi">DBT ‡§°‡•á‡§ü‡§æ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä</h4>
                <p class="card-description hindi">‡§≤‡§æ‡§≠‡§æ‡§∞‡•ç‡§•‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡§ï‡•ç‡§∑ ‡§≤‡§æ‡§≠ ‡§π‡§∏‡•ç‡§§‡§æ‡§Ç‡§§‡§∞‡§£ ‡§°‡•á‡§ü‡§æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§</p>
                <button class="card-action-btn hindi" onclick="openPortalLogin('dbt')" aria-label="DBT ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç">‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç</button>
            </div>
            <div class="feature-card card-approvals">
                <i class="card-icon fas fa-seedling" aria-hidden="true"></i>
                <h4 class="card-title hindi">PMFBY KCC Saturation</h4>
                <p class="card-description hindi">‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§´‡§∏‡§≤ ‡§¨‡•Ä‡§Æ‡§æ ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§î‡§∞ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§ï‡•ç‡§∞‡•á‡§°‡§ø‡§ü ‡§ï‡§æ‡§∞‡•ç‡§° ‡§∏‡§Ç‡§§‡•É‡§™‡•ç‡§§‡§ø‡•§</p>
                <button class="card-action-btn hindi" onclick="openPortalLogin('pmfby')" aria-label="PMFBY ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§¶‡•á‡§ñ‡•á‡§Ç">‡§¶‡•á‡§ñ‡•á‡§Ç</button>
            </div>
            <div class="feature-card card-scheme-info">
                <i class="card-icon fas fa-truck" aria-hidden="true"></i>
                <h4 class="card-title hindi">‡§µ‡§æ‡§π‡§® ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤</h4>
                <p class="card-description hindi">‡§ï‡•É‡§∑‡§ø ‡§µ‡§æ‡§π‡§® ‡§î‡§∞ ‡§â‡§™‡§ï‡§∞‡§£ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤‡•§</p>
                <button class="card-action-btn hindi" onclick="openPortalLogin('vehicle')" aria-label="‡§µ‡§æ‡§π‡§® ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§ï‡§∞‡•á‡§Ç">‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§ï‡§∞‡•á‡§Ç</button>
            </div>
            <div class="feature-card card-reports">
                <i class="card-icon fas fa-chart-bar" aria-hidden="true"></i>
                <h4 class="card-title hindi">‡§°‡•á‡§ü‡§æ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü‡•ç‡§∏</h4>
                <p class="card-description hindi">‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§Æ‡§æ‡§™‡§¶‡§Ç‡§°‡•ã‡§Ç ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ú‡•á‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§</p>
                <button class="card-action-btn hindi" onclick="showDataReports()" aria-label="‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ú‡•á‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç">‡§ú‡•á‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç</button>
            </div>
            <div class="feature-card card-user-mgmt">
                <i class="card-icon fas fa-users" aria-hidden="true"></i>
                <h4 class="card-title hindi">‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®</h4>
                <p class="card-description hindi">‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§ú‡•ã‡§°‡§º‡•á‡§Ç, ‡§∏‡§Ç‡§™‡§æ‡§¶‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§Ø‡§æ ‡§π‡§ü‡§æ‡§è‡§Ç‡•§</p>
                <button class="card-action-btn hindi" onclick="openPortalLogin('admin')" aria-label="‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç">‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
            </div>
            <div class="feature-card card-help">
                <i class="card-icon fas fa-question-circle" aria-hidden="true"></i>
                <h4 class="card-title hindi">‡§∏‡§π‡§æ‡§Ø‡§§‡§æ</h4>
                <p class="card-description hindi">‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§î‡§∞ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ‡•§</p>
                <button class="card-action-btn hindi" onclick="showOfficersList()" aria-label="‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç">‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç</button>
            </div>
        </div>
    </div>
</section>
    </main>

    <!-- Login Modal -->
    <div class="modal fade login-modal" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title hindi" id="loginModalLabel">‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç"></button>
                </div>
                <div class="modal-body">
                    <form id="loginForm" novalidate>
                        <div class="mb-3">
                            <label for="username" class="form-label hindi">‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§®‡§æ‡§Æ</label>
                            <input type="text" class="form-control" id="username" required autocomplete="username" aria-describedby="usernameHelp">
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label hindi">‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°</label>
                            <input type="password" class="form-control" id="password" required autocomplete="current-password" aria-describedby="passwordHelp">
                        </div>
                        <div class="mb-3">
                            <label for="district" class="form-label hindi">‡§ú‡§ø‡§≤‡§æ</label>
                            <select class="form-control" id="district" required aria-describedby="districtHelp">
                                <option value="">-- ‡§ú‡§ø‡§≤‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç --</option>
                            </select>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="rememberMe">
                            <label class="form-check-label hindi" for="rememberMe">‡§≤‡•â‡§ó‡§ø‡§® ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</label>
                        </div>
                        <button type="submit" class="btn btn-login hindi" aria-describedby="loginStatus">
                            <span class="login-text">‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç</span>
                            <span class="loading" style="display: none;" aria-live="polite">
                                <i class="fas fa-spinner fa-spin me-2" aria-hidden="true"></i>‡§≤‡•â‡§ó‡§ø‡§® ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...
                            </span>
                        </button>
                    </form>
                    
                    <div class="text-center mt-3">
                        <small class="hindi">‡§§‡§ï‡§®‡•Ä‡§ï‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ: <a href="mailto:diagri-cg@cg.gov.in" class="text-light">diagri-cg@cg.gov.in</a></small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Officers List Modal -->
    <div class="modal fade" id="officersModal" tabindex="-1" aria-labelledby="officersModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title hindi" id="officersModalLabel">‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡•Ä ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§∏‡•Ç‡§ö‡•Ä</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç"></button>
                </div>
                <div class="modal-body">
                    <div class="row" id="officersContainer">
                        <div class="col-12 text-center">
                            <div class="loading-spinner" aria-hidden="true"></div>
                            <p class="hindi mt-2" aria-live="polite">‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="portal-footer" role="contentinfo">
        <div class="container">
            <div class="row">
                <div class="col-md-3 mb-3">
                    <div class="footer-section footer-contact">
                        <h6 class="hindi">‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç</h6>
                        <p class="mb-1"><i class="fas fa-map-marker-alt me-2" aria-hidden="true"></i>‡§∏‡§Ç‡§ö‡§æ‡§≤‡§®‡§æ‡§≤‡§Ø ‡§ï‡•É‡§∑‡§ø, ‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º</p>
                        <p class="mb-1"><i class="fas fa-phone me-2" aria-hidden="true"></i><a href="tel:+91771XXXXXXX">+91-771-XXXXXXX</a></p>
                        <p class="mb-1"><i class="fas fa-envelope me-2" aria-hidden="true"></i><a href="mailto:agriculture@cg.gov.in">agriculture@cg.gov.in</a></p>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="footer-section footer-links">
                        <h6 class="hindi">‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§≤‡§ø‡§Ç‡§ï</h6>
                        <a href="#" class="hindi">‡§π‡•ã‡§Æ</a>
                        <a href="#" class="hindi">‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ‡§è‡§Ç</a>
                        <a href="#" class="hindi">‡§®‡•Ä‡§§‡§ø</a>
                        <a href="#" class="hindi">‡§ï‡§∞‡§ø‡§Ø‡§∞</a>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="footer-section footer-legal">
                        <h6 class="hindi">‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä</h6>
                        <a href="#" class="hindi">‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§®‡•Ä‡§§‡§ø</a>
                        <a href="#" class="hindi">‡§®‡§ø‡§Ø‡§Æ ‡§î‡§∞ ‡§∂‡§∞‡•ç‡§§‡•á‡§Ç</a>
                        <a href="#" class="hindi">‡§Ö‡§∏‡•ç‡§µ‡•Ä‡§ï‡§∞‡§£</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="footer-section footer-social">
                        <h6 class="hindi">‡§π‡§Æ‡•á‡§Ç ‡§´‡•â‡§≤‡•ã ‡§ï‡§∞‡•á‡§Ç</h6>
                        <div class="social-icons">
                            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
                            <a href="#" aria-label="Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                            <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in" aria-hidden="true"></i></a>
                            <a href="#" aria-label="YouTube"><i class="fab fa-youtube" aria-hidden="true"></i></a>
                        </div>
                        <div class="mt-auto">
                            <p><small class="hindi">¬© 2025 ‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º ‡§∏‡§∞‡§ï‡§æ‡§∞. ‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§‡•§</small></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script>
        // Supabase configuration
        const supabaseUrl = 'https://txjbfqrbbtvzlxpeegkv.supabase.co';
        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR4amJmcXJiYnR2emx4cGVlZ2t2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxMTU2NTQsImV4cCI6MjA2ODY5MTY1NH0.sE5UbwEOSnd9ED-k_Ix5OfdZbf7dmwlHZSjQQrEAyCo';
        
        // Initialize Supabase
        const { createClient } = supabase;
        const supabaseClient = createClient(supabaseUrl, supabaseKey);

        // Database Manager Class
        class DatabaseManager {
            constructor() {
                this.supabase = supabaseClient;
                this.currentDatabase = 'supabase';
            }

            async fetchWithFallback(table, query = {}) {
                try {
                    console.log(`üîÑ Fetching from Supabase table: ${table}`);
                    let supabaseQuery = this.supabase.from(table).select('*');
                    
                    Object.keys(query).forEach(key => {
                        supabaseQuery = supabaseQuery.eq(key, query[key]);
                    });

                    const { data, error } = await supabaseQuery;

                    if (error) throw error;
                    
                    console.log(`‚úÖ Supabase fetch successful for ${table}`);
                    this.currentDatabase = 'supabase';
                    
                    // Save to localStorage for offline access
                    this.saveToLocalStorage(table, data);
                    
                    return data;

                } catch (supabaseError) {
                    console.warn(`‚ùå Supabase failed for ${table}:`, supabaseError.message);
                    
                    // Try localStorage backup
                    try {
                        console.log(`üîÑ Attempting localStorage backup for ${table}...`);
                        const backupData = this.getFromLocalStorage(table, query);
                        if (backupData && backupData.length > 0) {
                            console.log(`‚úÖ localStorage backup successful for ${table}`);
                            this.currentDatabase = 'localStorage';
                            return backupData;
                        }
                    } catch (localStorageError) {
                        console.warn(`‚ùå localStorage backup failed for ${table}:`, localStorageError.message);
                    }

                    // For critical tables, throw error
                    if (table === 'districts' || table === 'test_users') {
                        throw new Error(`${table} data could not be loaded from any source`);
                    }

                    // For other tables, return empty array
                    console.log(`üîÑ Returning empty array for ${table}`);
                    this.currentDatabase = 'unavailable';
                    return [];
                }
            }

            getFromLocalStorage(table, query = {}) {
                const key = `backup_${table}`;
                const data = JSON.parse(localStorage.getItem(key) || '[]');
                
                if (Object.keys(query).length === 0) {
                    return data;
                }

                return data.filter(item => {
                    return Object.keys(query).every(key => item[key] === query[key]);
                });
            }

            saveToLocalStorage(table, data) {
                const key = `backup_${table}`;
                localStorage.setItem(key, JSON.stringify(data));
                localStorage.setItem(`${key}_updated`, new Date().toISOString());
            }

            async syncDatabases() {
                console.log('üîÑ Starting database synchronization...');
                
                try {
                    const tables = ['test_users', 'officers', 'districts'];
                    
                    for (const table of tables) {
                        try {
                            const { data, error } = await this.supabase
                                .from(table)
                                .select('*');
                            
                            if (!error && data) {
                                this.saveToLocalStorage(table, data);
                                console.log(`‚úÖ Synced ${table} to localStorage`);
                            }
                        } catch (tableError) {
                            console.warn(`‚ö†Ô∏è Failed to sync ${table}:`, tableError.message);
                        }
                    }
                    
                    console.log('‚úÖ Database synchronization completed');
                    return true;
                    
                } catch (error) {
                    console.error('‚ùå Database synchronization failed:', error);
                    return false;
                }
            }
        }

        const dbManager = new DatabaseManager();
        let currentTextSize = 0;
        let currentPortalType = '';

        // Portal configurations
        const portalConfigs = {
            'dbt': {
                title: 'DBT ‡§°‡•á‡§ü‡§æ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä',
                icon: 'üìä',
                description: '‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡§ï‡•ç‡§∑ ‡§≤‡§æ‡§≠ ‡§π‡§∏‡•ç‡§§‡§æ‡§Ç‡§§‡§∞‡§£ ‡§°‡•á‡§ü‡§æ ‡§è‡§Ç‡§ü‡•ç‡§∞‡•Ä',
                redirectUrl: 'https://diragcg.github.io/pmfby/dbt/login.html'
            },
            'pmfby': {
                title: 'PMFBY KCC Saturation',
                icon: 'üåæ',
                description: '‡§´‡§∏‡§≤ ‡§¨‡•Ä‡§Æ‡§æ ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§î‡§∞ KCC ‡§∏‡§Ç‡§§‡•É‡§™‡•ç‡§§‡§ø',
                redirectUrl: 'https://diragcg.github.io/pmfby/ground-truth-survey/login.html'
            },
            'vehicle': {
                title: '‡§µ‡§æ‡§π‡§® ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤',
                icon: 'üöú',
                description: '‡§ï‡•É‡§∑‡§ø ‡§µ‡§æ‡§π‡§® ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤',
                redirectUrl: 'https://diragcg.github.io/pmfby/vehicle-portal/dashboard.html'
            },
            'admin': {
                title: '‡§è‡§°‡§Æ‡§ø‡§® ‡§™‡•à‡§®‡§≤',
                icon: 'üë®‚Äçüíº',
                description: '‡§™‡•ç‡§∞‡§∂‡§æ‡§∏‡§®‡§ø‡§ï ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§™‡•à‡§®‡§≤',
                redirectUrl: 'admin-dashboard.html'
            }
        };

        // Function to open portal-specific login
        function openPortalLogin(portalType) {
            currentPortalType = portalType;
            const config = portalConfigs[portalType];
            
            if (config) {
                document.getElementById('loginModalLabel').textContent = config.title + ' - ‡§≤‡•â‡§ó‡§ø‡§®';
            }
            
            const modal = new bootstrap.Modal(document.getElementById('loginModal'));
            modal.show();
        }

        // Load districts function
        async function loadDistricts() {
            try {
                const districtSelect = document.getElementById('district');
                districtSelect.innerHTML = '<option value="">-- ‡§ú‡§ø‡§≤‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç --</option>';
                
                console.log('üîÑ Loading districts from Supabase...');
                
                const { data: districts, error } = await dbManager.supabase
                    .from('districts')
                    .select('id, name')
                    .order('name', { ascending: true });
                
                if (error) {
                    throw error;
                }
                
                if (districts && districts.length > 0) {
                    districts.forEach(district => {
                        const option = document.createElement('option');
                        option.value = district.id;
                        option.textContent = district.name;
                        districtSelect.appendChild(option);
                    });
                    
                    console.log(`‚úÖ Loaded ${districts.length} districts from Supabase`);
                } else {
                    districtSelect.innerHTML = '<option value="">‡§ï‡•ã‡§à ‡§ú‡§ø‡§≤‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç</option>';
                    console.warn('‚ö†Ô∏è No districts found in database');
                }
                
            } catch (error) {
                console.error('‚ùå Error loading districts:', error);
                const districtSelect = document.getElementById('district');
                districtSelect.innerHTML = '<option value="">‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø</option>';
                
                // Show user-friendly error
                setTimeout(() => {
                    alert('‡§ú‡§ø‡§≤‡§æ ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•Å‡§à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç‡•§');
                }, 100);
            }
        }

        // Initialize application
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // Load districts first
                await loadDistricts();
                
                // Other initialization
                loadAccessibilitySettings();
                
                // Sync data in background
                setTimeout(() => {
                    dbManager.syncDatabases();
                }, 1000);
                
            } catch (error) {
                console.error('Initialization error:', error);
            }
            
            // Login form handler
            document.getElementById('loginForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const username = document.getElementById('username').value.trim();
                const password = document.getElementById('password').value;
                const districtId = document.getElementById('district').value;
                const rememberMe = document.getElementById('rememberMe').checked;
                
                if (!username || !password || !districtId) {
                    alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§≠‡•Ä ‡§´‡•Ä‡§≤‡•ç‡§° ‡§≠‡§∞‡•á‡§Ç‡•§');
                    return;
                }
                
                const loginText = document.querySelector('.login-text');
                const loading = document.querySelector('.loading');
                const submitBtn = document.querySelector('.btn-login');
                
                // Show loading state
                loginText.style.display = 'none';
                loading.style.display = 'inline';
                submitBtn.disabled = true;
                
                try {
                    // Authenticate with test_users table
                    const users = await dbManager.fetchWithFallback('test_users');
                    const user = users.find(u => 
                        u.username === username && 
                        u.password === password && 
                        u.portal_access === currentPortalType &&
                        u.status === 'active'
                    );
                    
                    if (!user) {
                        throw new Error('‡§Ö‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§≤‡•â‡§ó‡§ø‡§® ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤ ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§');
                    }
                    
                    // Store user session
                    const userData = {
                        id: user.id,
                        username: user.username,
                        name: user.name,
                        role: user.role,
                        portal_access: user.portal_access,
                        districtId: districtId,
                        login_time: new Date().toISOString()
                    };
                    
                    if (rememberMe) {
                        localStorage.setItem('user', JSON.stringify(userData));
                    } else {
                        sessionStorage.setItem('user', JSON.stringify(userData));
                    }
                    
                    // Success message
                    alert(`‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ${user.name}! ${portalConfigs[currentPortalType].title} ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...`);
                    
                    // Hide modal
                    const modal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
                    modal.hide();
                    
                    // Redirect to appropriate portal
                    setTimeout(() => {
                        window.open(portalConfigs[currentPortalType].redirectUrl, '_blank');
                    }, 1000);
                    
                } catch (error) {
                    console.error('Login error:', error);
                    alert(error.message || '‡§≤‡•â‡§ó‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§π‡•Å‡§à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§');
                } finally {
                    // Reset button state
                    loginText.style.display = 'inline';
                    loading.style.display = 'none';
                    submitBtn.disabled = false;
                }
            });
        });

        // Utility functions
        function changeTextSize(adjustment) {
            const body = document.body;
            currentTextSize += adjustment;
            if (currentTextSize < -1) currentTextSize = -1;
            if (currentTextSize > 1) currentTextSize = 1;
            
            body.classList.remove('text-small', 'text-large');
            if (currentTextSize === -1) {
                body.classList.add('text-small');
            } else if (currentTextSize === 1) {
                body.classList.add('text-large');
            }
            
            localStorage.setItem('textSize', currentTextSize);
        }

        function changeLanguage(lang) {
            localStorage.setItem('appLanguage', lang);
            // In a real application, this would change the interface language
            console.log(`Language changed to: ${lang}`);
        }

        function loadAccessibilitySettings() {
            const savedTextSize = localStorage.getItem('textSize');
            if (savedTextSize !== null) {
                currentTextSize = parseInt(savedTextSize);
                const body = document.body;
                body.classList.remove('text-small', 'text-large');
                if (currentTextSize === -1) {
                    body.classList.add('text-small');
                } else if (currentTextSize === 1) {
                    body.classList.add('text-large');
                }
            }
            
            const savedLanguage = localStorage.getItem('appLanguage');
            if (savedLanguage) {
                const langSelector = document.querySelector('.accessibility-options select');
                if (langSelector) {
                    langSelector.value = savedLanguage;
                }
            }
        }

        function goToRegister() {
            alert('‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•ã‡§ó‡•Ä‡•§');
        }

        async function showOfficersList() {
            try {
                const modal = new bootstrap.Modal(document.getElementById('officersModal'));
                modal.show();

                const officers = await dbManager.fetchWithFallback('officers', { status: 'active' });
                
                if (officers && officers.length > 0) {
                    officers.sort((a, b) => (a.rank || 999) - (b.rank || 999));

                    const statusIndicator = `
                        <div class="col-12 mb-3">
                            <div class="alert alert-info text-center">
                                <small class="hindi">
                                    <i class="fas fa-database me-1" aria-hidden="true"></i>
                                    ‡§°‡•á‡§ü‡§æ ‡§∏‡•ç‡§∞‡•ã‡§§: ${dbManager.currentDatabase === 'supabase' ? '‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏' : '‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§¨‡•à‡§ï‡§Ö‡§™'}
                                </small>
                            </div>
                        </div>
                    `;

                    const officersHTML = officers.map(officer => `
                        <div class="col-md-6 mb-3">
                            <div class="officer-card">
                                <div class="officer-name hindi">${officer.name}</div>
                                <div class="officer-mobile">
                                    <i class="fas fa-phone me-2" aria-hidden="true"></i>
                                    <a href="tel:${officer.mobile}">${officer.mobile}</a>
                                </div>
                                <small>${officer.designation}</small>
                                ${officer.email ? `<br><small><i class="fas fa-envelope me-1" aria-hidden="true"></i><a href="mailto:${officer.email}">${officer.email}</a></small>` : ''}
                            </div>
                        </div>
                    `).join('');

                    document.getElementById('officersContainer').innerHTML = statusIndicator + officersHTML;
                } else {
                    document.getElementById('officersContainer').innerHTML = `
                        <div class="col-12 text-center">
                            <div class="alert alert-warning hindi">
                                ‡§ï‡•ã‡§à ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡•Ä ‡§°‡•á‡§ü‡§æ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§
                            </div>
                        </div>
                    `;
                }

            } catch (error) {
                console.error('Error loading officers:', error);
                document.getElementById('officersContainer').innerHTML = `
                    <div class="col-12 text-center">
                        <div class="alert alert-danger hindi">
                            ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§π‡•Å‡§à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§
                        </div>
                    </div>
                `;
            }
        }

        // Navigation functions
        function showDashboard() { openPortalLogin('admin'); }
        function showUserManagement() { openPortalLogin('admin'); }
        function showSchemeManagement() { alert('‡§∏‡•ç‡§ï‡•Ä‡§Æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•ã‡§ó‡•Ä‡•§'); }
        function showAddSchemeModal() { alert('‡§®‡§à ‡§∏‡•ç‡§ï‡•Ä‡§Æ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•Ä ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•ã‡§ó‡•Ä‡•§'); }
        function showDataReports() { alert('‡§°‡•á‡§ü‡§æ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü‡•ç‡§∏ ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•ã‡§ó‡•Ä‡•§'); }
        function showPendingApprovals() { openPortalLogin('pmfby'); }
        function showSystemSettings() { alert('‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏ ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•ã‡§ó‡•Ä‡•§'); }
        function showAuditLogs() { alert('‡§ë‡§°‡§ø‡§ü ‡§≤‡•â‡§ó‡•ç‡§∏ ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•ã‡§ó‡•Ä‡•§'); }

        console.log(`
        ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
        ‚ïë     Cross-Browser & Cross-Device Compatible Portal          ‚ïë
        ‚ïë                                                              ‚ïë
        ‚ïë  ‚úÖ Universal Browser Support                               ‚ïë
        ‚ïë  ‚úÖ Mobile-First Responsive Design                          ‚ïë
        ‚ïë  ‚úÖ Accessibility Features (ARIA, Screen Reader)           ‚ïë
        ‚ïë  ‚úÖ Touch-Friendly Interface                                ‚ïë
        ‚ïë  ‚úÖ Progressive Enhancement                                  ‚ïë
        ‚ïë  ‚úÖ Green Theme Login Modal                                 ‚ïë
        ‚ïë  ‚úÖ Direct Supabase Integration                             ‚ïë
        ‚ïë  ‚úÖ No Mock User Data                                       ‚ïë
        ‚ïë  ‚úÖ test_users Table Authentication                         ‚ïë
        ‚ïë  ‚úÖ Districts from Supabase                                 ‚ïë
        ‚ïë  ‚úÖ Offline Backup Support                                  ‚ïë
        ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        `);
    </script>
</body>
</html>
